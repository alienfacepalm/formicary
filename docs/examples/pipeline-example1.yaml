job_type: pipeline-example1
description: Simple Pipeline example
max_concurrency: 1
tasks:
- task_type: task1
  tags:
  - builder
  pod_labels:
    foor: bar
  script:
    - date
  method: DOCKER
  container:
    image: alpine
  on_completed: task2
- task_type: task2
  method: SHELL
  tags:
  - builder
  script:
    - sleep 2
  on_completed: task3
- task_type: task3
  method: KUBERNETES
  tags:
  - builder
  script:
    - echo "{{.param1}} $MYENV"
  container:
    image: alpine
  environment:
    MYENV: foo bar
  variables:
    param1: hello there
